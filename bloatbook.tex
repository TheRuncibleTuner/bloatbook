\documentclass[a5]{book}

\usepackage{comment}

\usepackage{booktabs,colortbl}


\usepackage{hyperref} \hypersetup{pdfauthor={Nick Mitchell, Edith
    Schonberg, Gary Sevitsky},pdftitle={Memory Conscious Java Programming},linkcolor=black,colorlinks=true}
\def\chapterautorefname{Chapter}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
    
%\usepackage{fullpage}
%\usepackage{wrapfig}
%\usepackage{float}
%  \floatstyle{ruled}
%  \newfloat{callout}{thp}{lop}
%  \floatname{callout}{Things To Remember}

\usepackage{xspace}
\usepackage{multirow}
\usepackage{subfigure}

\usepackage{color}
\definecolor{Light}{gray}{.95}

\usepackage{amsthm}
%{
  %\theoremstyle{definition}
  %\newtheorem{example}{Example}
  %\newenvironment{example}[1]{\textbf{Example: #1}}{}
  
%\newcounter{Examplecount}[chapter]
%\setcounter{Examplecount}{1}
\newenvironment{example}[1]
{% This is the begin code
%\stepcounter{Examplecount}
 % \arabic{chapter}.\arabic{Examplecount}
\vspace{3mm}%
\hrule height \heavyrulewidth%
\nopagebreak%
\vspace{1mm}%
\nopagebreak\noindent\textbf{Example: #1}~~%
}
{% This is the end code
\qed%
\vspace{2mm}%
\hrule height \heavyrulewidth%
\vspace{5mm}%
}
  
%}

\usepackage{verbatim}
\newenvironment{verbatim2}
{%
\quote
\verbatim
}
{%
\endverbatim
\endquote
}

\usepackage{listings}
\lstset{language=Java,basicstyle=\footnotesize\ttfamily,frame=tb,tabsize=4,captionpos=b,columns=flexible,breaklines}%},frame=single,backgroundcolor=\color{Light}}
\lstnewenvironment{shortlisting}{\lstset{frame=none}}{\lstset{frame=tb}}
%\lstnewenvironment{longlisting}{}{}


\usepackage{graphicx}

%%% CODE MACRO
\newcommand{\class}[1]{{\tt #1\xspace}}
\newcommand{\code}[1]{\class #1}

\newcounter{ttr}
\setcounter{ttr}{1}

\newlength{\calloutparindent}
\setlength{\calloutparindent}{\parindent}
%%
%% begin: the callout command
\newcommand{\callout}[3]{\label{#1}\vspace{3mm}
\begin{center}
\fcolorbox{black}{Light}{\begin{minipage}{0.85\textwidth}
    %\textbf{\large Things To Remember~\arabic{ttr} --- #2}
    \textbf{\large #2}
    \vspace{0.5mm}
    \hrule height \heavyrulewidth
    \vspace{2mm}
\setlength{\parindent}{\calloutparindent}
#3
  \end{minipage}}
\end{center}
\vspace{3mm}
\addtocounter{ttr}{1}
}
\newcommand{\thingstoremember}[1]{Things To Remember~\ref{#1}}
%% end: the callout command
%%

\title{Memory Conscious Java Programming}
\author{Nick Mitchell \and Edith Schonberg \and Gary Sevitsky}
\date{}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%
%%%% PREFACEY STUFF %%%%
%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter
\maketitle

\include{preface}

\tableofcontents
\listoffigures
\listoftables


%%%%%%%%%%%%%%%%%%%%%%%%
%%%%  BODY OF BOOK  %%%%
%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter


\input{part1}
\input{part2}
\input{part3}
\input{part4}


%%%%%%%%%%%%%%%%%%%%%%%%
%%%%   BACK MATTER  %%%%
%%%%%%%%%%%%%%%%%%%%%%%%
\backmatter

%\bibliographystyle{abbrv}
\bibliographystyle{unsrt}
\bibliography{bloat}

\end{document}
